<!DOCTYPE html> #
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link href="cart.css" type="test/css" rel="stylesheet">
</head>
<body>
<form  method="post" id="registration">
    <fieldset>
        <legend>Please Complete:</legend>
        <div id="errors" style="color: red;"></div>

        <div>
            <label for="username" class="title">Name:</label>
            <input type="text" id="username" name="name" placeholder="First Last"/>
        </div>
        <div>
            <label for="email" class="title">Email:</label>
            <input type="text" id="email" name="email"/>
        </div>
        <div>
            <label for="password" class="title">Password:</label>
            <input type="tel" id="password" name="phone"/>
        </div>
        <div>
        <label>
            Verify Password:
            <input type="password" name="verify-password" id="verify-password">
        </label>
        </div>
        <div>
            <label for="dateofbirth" class="title">Birthday:</label>
            <input type="date" id="dateofbirth" name="birthday"/>
        </div>
        <div>
            <label for="over" id="over" class="title">Over 18?:</label>
            <input type="radio" name="over" value="yes"/>
            Yes
            <input type="radio" id="over1" name="over" value="no"/>
            No
        </div>
        <div>
            <input type="submit" value="Submit" id="submit"/>
        </div>
    </fieldset>
</form>
<script>
    var regForm = document.getElementById("registration");

    function validateForm() {
        /* how could we organize this code and make it more reusable? */
        var errors = document.getElementById("errors");
        var error_list = [];
        var username = document.getElementById("username").value;
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        var verifyPassword = document.getElementById("verify-password").value;
        var dobValue = document.getElementById("dateofbirth").value;
        var dob = new Date(dobValue);
        var now = new Date();
        var ageDiff = new Date()
        var nowMS = now.getTime();
        var dobMS = dob.getTime();
        var iDiff = nowMS - dobMS;
        ageDiff.setTime(iDiff);
        var age = parseInt(ageDiff.getFullYear()) - 1970;

        if (password != verifyPassword) {
            error_list.push("Password and Verify Password must match");
        }

        if (password.length < 8) {
            error_list.push("Password must be at least 8 letters or numbers.");
        }

        if (username.length < 3) {
            error_list.push("Username must be at least 3 letters or numbers.");
        }

        if (email.length < 3) {
            error_list.push("Email must be at least 3 letters or numbers.");
        }

        if (age < 21) {
            error_list.push("Age must be over 21");
        }

        errors.innerHTML = error_list.join("<br>");
    }
    regForm.addEventListener("submit", function (event) {
        event.preventDefault();
        validateForm();
    });


</script>
</body>
</html>